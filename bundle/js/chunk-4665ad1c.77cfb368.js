(window["webpackJsonp_user"]=window["webpackJsonp_user"]||[]).push([["chunk-4665ad1c"],{"5b64":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"system-mandate-container"},[a("page-header",{attrs:{title:"授权信息",titleIcon:"icon-vm"}}),"havedata"===t.status.info||"error"===t.status.info?a("div",{staticClass:"detail-container"},[a("div",{staticClass:"detail-content box"},[a("div",{staticClass:"detail-box",staticStyle:{width:"100%"}},[t._m(0),a("div",{staticClass:"detail-info"},[a("div",{staticClass:"detail-info-item"},[a("div",{staticClass:"detail-info-label"},[t._v("公司名称")]),a("div",{staticClass:"detail-info-value"},[t._v(t._s(t.info.companyName))])]),a("div",{staticClass:"detail-info-item"},[a("div",{staticClass:"detail-info-label"},[t._v("授权时间")]),a("div",{staticClass:"detail-info-value box"},[a("span",[t._v(t._s(t.info.createTime))])])]),a("div",{staticClass:"detail-info-item"},[a("div",{staticClass:"detail-info-label"},[t._v("到期时间")]),a("div",{staticClass:"detail-info-value"},[t._v(" "+t._s(t.info.expiredTime)+" ")])]),a("div",{staticClass:"detail-info-item"},[a("div",{staticClass:"detail-info-label"},[t._v("用户人数")]),a("div",{staticClass:"detail-info-value"},[t._v(t._s(t.info.nowUserCount)+"/"+t._s(t.info.userNumberLimit))])]),a("div",{staticClass:"detail-info-item"},[a("div",{staticClass:"detail-info-label"},[t._v("授权MAC")]),a("div",{staticClass:"detail-info-value flex-column flex-justify-start flex-align-start"},[t._l(t.info.macList,(function(e,i){return"havedata"===t.status.info?a("p",[t._v(" "+t._s(e)+" ")]):t._e()})),"error"===t.status.info?a("p",[t._v(t._s(t.info.macList))]):t._e()],2)])])])])]):t._e(),a("admin-footer",[a("div",{attrs:{slot:"left"},slot:"left"},[a("efly-button",{staticClass:"btn-primary mar-r-mini",attrs:{size:"small"},on:{click:function(e){return t.replace()}}},[t._v("替换授权信息")])],1)]),a("replace-authorization-info",{attrs:{show:t.component.replaceAuthorizationInfo},on:{success:function(e){return t.success()}}})],1)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"detail-header"},[a("div",{staticClass:"detail-header-title"},[a("i",{staticClass:"icon icon-info"}),t._v(" 基本信息 ")])])}],s=a("d4ec"),o=a("bee2"),l=a("262e"),c=a("2caf"),r=a("9ab4"),u=a("1b40"),f=a("65a1"),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"popup-container layer-display",attrs:{id:"replace-authorization-info"}},[a("efly-upload",{on:{change:function(e){return t.getFile(e)}}})],1)},v=[],h=a("bd30"),p=function(t){Object(l["a"])(a,t);var e=Object(c["a"])(a);function a(){var t;return Object(s["a"])(this,a),t=e.apply(this,arguments),t.width="100%",t.file="",t.userID="",t}return Object(o["a"])(a,[{key:"created",value:function(){this.userID=h["a"].getUserID(),this.ewalkToken=h["a"].getUserToken()}},{key:"mounted",value:function(){}},{key:"getShow",value:function(t){var e=this;!0===t&&(this.init(),this.layerIndex=this.$layer.open({title:"替换授权",id:"replace-authorization-info",icon:"",area:{width:"550px"},btn:{confirm:"确定",cancel:"取消"},confirm:function(){e.confirm()},cancel:function(){e.layerClose()}}))}},{key:"init",value:function(){}},{key:"confirm",value:function(){var t=this,e=new FormData;e.append("file",this.file);var a=this.$layer.load({message:"'替换授权信息中...'"});f["a"].upload("/system/authorization/replaceECloudAuth",e).then((function(e){t.$layer.close(a),t.layerClose(),t.$layer.msg("替换成功",{type:"success"}),t.$emit("success")})).catch((function(e){t.$layer.close(a),t.$layer.msg(e.errorMsg,{type:"error"})}))}},{key:"getFile",value:function(t){this.file=t}},{key:"layerClose",value:function(){this.$layer.close(this.layerIndex);var t=this.$parent;t.component.replaceAuthorizationInfo=!1}}]),a}(u["d"]);Object(r["a"])([Object(u["c"])({default:function(){return!1}})],p.prototype,"show",void 0),Object(r["a"])([Object(u["c"])({default:function(){return""}})],p.prototype,"user",void 0),Object(r["a"])([Object(u["e"])("show",{immediate:!0})],p.prototype,"getShow",null),p=Object(r["a"])([u["a"]],p);var m=p,y=m,b=y,C=(a("5ebd"),a("2877")),_=Object(C["a"])(b,d,v,!1,null,"187d9dc5",null),g=_.exports,k=function(t){Object(l["a"])(a,t);var e=Object(c["a"])(a);function a(){var t;return Object(s["a"])(this,a),t=e.apply(this,arguments),t.status={info:"loading"},t.component={replaceAuthorizationInfo:!1},t}return Object(o["a"])(a,[{key:"created",value:function(){this.getData()}},{key:"mounted",value:function(){}},{key:"success",value:function(){var t=h["a"].getCookie("mandate");"over"===t?(h["a"].setCookie("mandate","success"),this.shared.$router.push({path:"/login"})):this.getData()}},{key:"getData",value:function(){var t=this;this.status.info="loading";var e={userID:this.userID};f["a"].request("/system/authorization/getECloudAuthInfo",e).then((function(e){t.info=e.data,t.status.info="havedata"})).catch((function(e){t.info={companyName:"-",createTime:"-",expiredTime:"-",nowUserCount:"-",userNumberLimit:"-",macList:"-"},t.status.info="error"}))}},{key:"replace",value:function(){this.component.replaceAuthorizationInfo=!0}}]),a}(u["d"]);k=Object(r["a"])([Object(u["a"])({components:{ReplaceAuthorizationInfo:g}})],k);var j=k,O=j,w=O,I=Object(C["a"])(w,i,n,!1,null,"661a53ee",null);e["default"]=I.exports},"5d38":function(t,e,a){},"5ebd":function(t,e,a){"use strict";a("5d38")}}]);