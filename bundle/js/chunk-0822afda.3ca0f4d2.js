(window["webpackJsonp_user"]=window["webpackJsonp_user"]||[]).push([["chunk-0822afda"],{"0546":function(e,t,s){},"30a2":function(e,t,s){"use strict";s("b1f0"),s("fb24");function a(e){switch(e){case"customer":return"客户";case"admin":return"管理员"}}function r(e){var t=e;if(e)switch(e.toString()){case"1":t="云主机";break;case"2":t="云磁盘";break;case"3":t="云IP";break;case"4":t="云快照";break;case"5":t="账号管理";break;case"6":t="财务管理";break;case"7":t="NAT网关";break;case"8":t="VPC路由";break;case"9":t="VPC虚拟私有云";break;case"10":t="虚拟交换机";break;case"11":t="独立带宽包";break;case"12":t="共享带宽包";break;case"13":t="VPC带宽";break;case"14":t="镜像";break;case"15":t="安全组";break;case"16":t="负载均衡";break;case"17":t="RDS云数据库";break;case"18":t="弹性网卡";break;case"19":t="平台管理";break;case"20":t="客户管理";break;case"21":t="市场活动";break;case"22":t="合同业务";break;case"":t="全部";break}return t}function n(e){var t={destroy:"销毁提醒",expire:"到期提醒",opt:"操作提醒",balanceLess:"财务消息",security:"安全消息"};return t[e]}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"label",s={MESSAGE_CONFIG_DESTROY:{label:"销毁提醒",id:"destroy"},MESSAGE_CONFIG_EXPIRE:{label:"到期提醒",id:"expire"},MESSAGE_CONFIG_BALANCE_LESS:{label:"余额不足",id:"balanceLess"},MESSAGE_CONFIG_MONEY:{label:"余额预警",id:"money"},MESSAGE_CONFIG_RDS_STORAGE:{label:"RDS存储容量提醒",id:"rdsStorage"}};return s[e][t]}function o(e,t){var s;switch(t){case"set":s=e?e.length>12?e.substr(0,5)+"***"+e.substr(e.length-6,6):e.length>5?e.substr(0,2)+"***"+e.substr(e.length-3,3):e.length>3?e.substr(0,1)+"***"+e.substr(e.length-1,1):e.substr(0,1)+"***":"-";break;case"name":s=e?e.length>2?e.substr(0,1)+"*"+e.substr(e.length-1,1):e.substr(0,1)+"*":"-";break;default:s="admin"===e?e:e?e.length>5?e.substr(0,2)+"***"+e.substr(e.length-3,3):e.length>3?e.substr(0,1)+"***"+e.substr(e.length-1,1):e.substr(0,1)+"***":"-";break}return s}t["a"]={userType:a,optLogType:r,messageType:n,messageSetType:i,desensitization:o}},"66da":function(e,t,s){},"84dc":function(e,t,s){"use strict";s("410a"),s("0814"),s("33fd"),s("6f78"),s("e3df"),s("fe82"),s("fd3a");function a(e){var t=/^\d{4,6}$/;return t.test(e)}function r(e){var t=/^[a-zA-Z0-9]{4}/;return t.test(e)&&4===e.length}function n(e){var t=/^\+?[1-9]\d*$/;return t.test(e)}function i(e){return-1!=e.search(/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/)}function o(e){var t=/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])(\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])){3}$/;return t.test(e)}function c(e){if(!e)return!1;var t=e.split("/");if(!o(t[0])||2!==t.length)return!1;var s=/^(0|[1-9][0-9]{0,1})$/;if(2===t.length&&!s.test(t[1])||2===t.length&&t[1]<0||2===t.length&&t[1]>32)return!1;if(2===t.length)for(var a=t[0].split("."),r=0;r<a.length;r++)if(!l(a[r],r+1,t[1]))return!1;return!0}function l(e,t,s){var a=Math.floor(s/8),r=s%8,n=/^[0-9]*$/;if(!n.test(e)||e<0||e>255)return!1;if(e=Number(e),a>=t)return!0;var i=Math.pow(2,8-r);return e%i===0}function u(e){var t=/^[a-zA-Z0-9\u4E00-\u9FA5\(\)\（\）\s]+$/;return t.test(e)}function p(e){return d(e)||h(e)}function d(e){if(""!=e){var t=e.split("-"),s=[3,7,9,10,5,8,4,2],a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",r=/^([0-9A-Z]){8}-[0-9|X]$/;if(!r.test(e))return!1;for(var n=0,i=0;i<8;i++)n+=a.indexOf(t[0].charAt(i))*s[i];var o=11-n%11+"",c=t[1]+"";return"11"==o?o="0":"10"==o?o="X":o+="",c==o}}function h(e){var t=/^(11|12|13|19|51|52|53|59|91|92|93|Y1)\d{6}[0-9A-Z]{10}$/;if(18!==e.length||!t.test(e))return!1;var s=e.substring(8,16)+"-"+e.substring(16,17);if(!d(s))return!1;for(var a=[1,3,9,27,19,26,16,17,20,29,25,13,8,24,10,30,28],r="0123456789ABCDEFGHJKLMNPQRTUWXY",n=0,i=0;i<17;i++)n+=r.indexOf(e.charAt(i))*a[i];var o=31-n%31;31===o&&(o=0);var c=r.substring(o,o+1),l=e.substring(17,18);return l===c}function f(e){var t=/^[1-9][0-9]{5}$/;return t.test(e)}function v(e){var t=/^[0-9]*$/,s=e?e.replace(/\s+/g,""):e;return!!s&&!t.test(s)}function m(e){var t=/^[\u4E00-\u9FA5]+$/;return t.test(e)}function b(e){var t=/^[a-zA-Z0-9]{5,17}$/;return t.test(e)}function y(e){var t=/^0?1[3|4|5|6|7|8|9][0-9]\d{8}$/;return t.test(e)}function w(e){var t=/(?!^([0-9]+|[a-zA-Z]+|[()`~!@#$%^&*\\-_+=|{}\[\]:;'<>,.?\/]+)$)^[\w()`~!@#$%^&*\\-_+=|{}\[\]:;'<>,.?\/]{8,32}$/g;return t.test(e)}function g(e){var t=/^(?!^([0-9]+|[a-zA-Z]+|[!@#$%^&*()_+-=]+)$)(?![a-zA-Z0-9]+$)(?![a-z0-9!@#$%^&*()_+-=]+$)(?![A-Z0-9!@#$%^&*()_+-=]+$)[a-zA-Z0-9!@#$%^&*()_+-=]{8,32}$/g;return t.test(e)}function C(e){var t=/^(([1-9][0-9]*)|(([0]\.\d{1,2}|[1-9][0-9]*\.\d{1,2})))$/;return t.test(e)}function k(e,t){return JSON.stringify(e)===JSON.stringify(t)}function _(e){var t=/^[0-9]*$/;return!(!t.test(e)||e<=0||e>100)}function x(e){var t=/^[0-9]*$/;return!(!t.test(e)||e<1||e>65535)}t["a"]={captcha:a,imageCode:r,positiveInteger:n,email:i,ip:o,companyName:u,institutionCode:p,postalCode:f,address:v,name:m,passport:b,phone:y,password:w,fourPassword:g,objEqual:k,checkNetwork:c,checkNetByByte:l,money:C,weight:_,port:x}},adab:function(e,t,s){"use strict";s("0546")},cd76:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"info-container"},[s("page-header",{attrs:{title:"安全设置",titleIcon:"icon-lock"}}),s("div",{staticClass:"info-content"},[s("div",{staticClass:"info-box"},[s("div",{staticClass:"info-detail"},[s("div",{staticClass:"info-detail-content"},[s("div",{staticClass:"info-detail-row"},[s("span",{staticClass:"info-detail-row-label"},[e._v("账户安全等级：")]),s("div",{staticClass:"info-detail-row-text"},[s("efly-progress",{attrs:{color:e.color,width:"380px",percentage:e.percentage}}),s("span",{staticClass:"font-bold font-small mar-l-xs"},[e._v(e._s(e.level))]),s("efly-tooltip",{attrs:{trigger:"hover",content:"用户可通过绑定手机号和激活邮箱提高账号安全等级。 ",top:"-14px",left:"calc(100% + 1px)",placement:"right"}},[s("i",{staticClass:"icon icon-help color-primary font-small mar-l-xs"})])],1),s("div",{staticClass:"info-detail-row-right"})]),s("div",{staticClass:"info-detail-row"},[e._m(0),s("div",{staticClass:"info-detail-row-text text-secondary"},[e._v(" 开启登录安全设置，登录时需要输入安全手机验证码（您的安全手机为："),s("span",{staticClass:"text-regular"},[e._v(e._s(e._f("desensitization")(e.user.phone)))]),e._v("）才能登录账户，为账号提供多一层安全保障。 ")]),s("div",{staticClass:"info-detail-row-right"},[e._m(1),s("efly-button",{staticClass:"btn-outline-primary",attrs:{size:"mini"},on:{click:function(t){return e.operateSelect("resetPassword")}}},[e._v("修改 ")])],1)]),s("div",{staticClass:"info-detail-row"},[e._m(2),s("div",{staticClass:"info-detail-row-text text-secondary"},[e._v(" 您已绑定手机 "),s("span",{staticClass:"text-regular"},[e._v(e._s(e._f("desensitization")(e.user.phone)))]),e._v(" [ 您的手机为安全手机，可以找回密码，接收系统通知。] ")]),s("div",{staticClass:"info-detail-row-right"},[e._m(3),s("efly-button",{staticClass:"btn-outline-primary",attrs:{size:"mini"},on:{click:function(t){return e.operateSelect("changePhone")}}},[e._v("修改 ")])],1)]),s("div",{staticClass:"info-detail-row"},[e._m(4),s("div",{staticClass:"info-detail-row-text text-secondary"},[e._v(" 您的邮箱 "),s("span",{staticClass:"text-regular"},[e._v(e._s(e._f("desensitization")(e.user.email)))]),e._v(" "+e._s(1===e.user.activateEmail?"已激活":"还没激活，请激活。")+" ")]),s("div",{staticClass:"info-detail-row-right"},[1!==e.user.activateEmail?s("span",{staticClass:"color-danger mar-r-xs"},[s("i",{staticClass:"icon icon-forbidden mar-r-mini"}),e._v("未激活")]):e._e(),1==e.user.activateEmail?s("span",{staticClass:"color-success mar-r-xs"},[s("i",{staticClass:"icon icon-circle-success mar-r-mini"}),e._v("已激活")]):e._e(),1!==e.user.activateEmail?s("efly-button",{staticClass:"btn-outline-primary",attrs:{size:"mini"},on:{click:function(t){return e.operateSelect("emailActivation")}}},[e._v("激活 ")]):e._e()],1)])])])])]),s("easy-operate",{attrs:{show:e.component.easyOperate,prop:e.easyOperate.id,data:e.easyOperate.data,icon:e.easyOperate.icon,title:e.easyOperate.title,scene:e.easyOperate.scene},on:{confirm:function(t){return e.easyOperateConfirm(t)}}}),s("user-reset-password",{attrs:{show:e.component.resetPassword,user:e.user},on:{success:function(t){return e.getUser()}}}),s("user-change-phone",{attrs:{show:e.component.changePhone,user:e.user},on:{success:function(t){return e.getUser()}}}),s("user-email-activation",{attrs:{show:e.component.emailActivation,user:e.user},on:{success:function(t){return e.getUser()}}})],1)},r=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"info-detail-row-label"},[s("i",{staticClass:"icon icon-lock color-primary mar-r-xs"}),e._v("登录密码：")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"color-success mar-r-mini"},[s("i",{staticClass:"icon icon-circle-success mar-r-xs"}),e._v("已设置")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"info-detail-row-label"},[s("i",{staticClass:"icon icon-phone-number color-primary mar-r-xs"}),e._v("手机绑定：")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"color-success mar-r-mini"},[s("i",{staticClass:"icon icon-circle-success mar-r-xs"}),e._v("已设置")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"info-detail-row-label"},[s("i",{staticClass:"icon icon-Common-mailbox color-primary mar-r-xs"}),e._v("常用邮箱：")])}],n=s("5530"),i=s("d4ec"),o=s("bee2"),c=s("262e"),l=s("2caf"),u=s("9ab4"),p=s("1b40"),d=s("65a1"),h=s("30a2"),f=s("bd30"),v=s("eee3"),m=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"popup-container layer-display",attrs:{id:"user-change-phone"}},[s("div",{staticClass:"popup-item"},[s("div",{staticClass:"popup-item-label"},[e._v("手机号：")]),s("efly-tooltip",{staticClass:"box flex-column",staticStyle:{width:"100%"},attrs:{content:e.errorMsg.phone,trigger:e.errorMsg.phone?"show":"hide",position:"relative",top:"2px",left:"-6px",type:"danger",placement:"bottom-left"}},[s("div",{staticClass:"popup-item-content box"},[s("efly-input",{attrs:{size:"small",disabled:"",width:"100%",placeholder:"8-32位，且须包含数字、字母"},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}}),s("span",{staticClass:"box flex-center color-danger font-default pad-lr-xs"},[e._v("*")])],1)])],1),s("div",{staticClass:"popup-item"},[s("div",{staticClass:"popup-item-label"},[e._v("新手机号：")]),s("efly-tooltip",{staticClass:"box flex-column",staticStyle:{width:"100%"},attrs:{content:e.errorMsg.newPhone,trigger:e.errorMsg.newPhone?"show":"hide",position:"relative",top:"2px",left:"-6px",type:"danger",placement:"bottom-left"}},[s("div",{staticClass:"popup-item-content box"},[s("efly-input",{attrs:{size:"small",width:"100%",placeholder:"请输入新手机号"},on:{change:function(t){return e.checkNewPhone()}},model:{value:e.newPhone,callback:function(t){e.newPhone=t},expression:"newPhone"}}),s("span",{staticClass:"box flex-center color-danger font-default pad-lr-xs"},[e._v("*")])],1)])],1)])},b=[],y=s("84dc"),w=function(e){Object(c["a"])(s,e);var t=Object(l["a"])(s);function s(){var e;return Object(i["a"])(this,s),e=t.apply(this,arguments),e.phone="",e.newPhone="",e.errorMsg={phone:"",newPhone:""},e.status={},e}return Object(o["a"])(s,[{key:"mounted",value:function(){}},{key:"init",value:function(){this.phone=this.user.phone,this.newPhone=""}},{key:"getShow",value:function(e){var t=this;this.show=e,!0===e&&(this.init(),this.layerIndex=this.$layer.open({title:"修改手机号",id:"user-change-phone",icon:"icon-user1",area:{width:"550px"},btn:{confirm:"确定",cancel:"取消"},confirm:function(){t.submit()},cancel:function(){t.layerClose()}}))}},{key:"selectOption",value:function(e,t){this[t]=e}},{key:"checkNewPhone",value:function(){return""===this.newPhone?(this.errorMsg.newPhone="请输入手机号。",!1):this.newPhone===this.phone?(this.errorMsg.newPhone="请输入新的手机号码。",!1):y["a"].phone(this.newPhone)?(this.errorMsg.newPhone="",!0):(this.errorMsg.newPhone="请输入正确的手机号码。",!1)}},{key:"checkBtnStatus",value:function(){var e=this.checkNewPhone();return e}},{key:"submit",value:function(){var e=this;if(this.checkBtnStatus()){var t=this.$layer.load({message:"修改手机号码中中..."}),s={phone:this.newPhone,userID:this.user.userID};d["a"].request("/user/changeMobilePhone",s).then((function(s){e.$layer.close(t),e.layerClose(),e.$layer.msg("修改成功",{type:"success"}),e.$emit("success")})).catch((function(s){e.$layer.close(t),e.$layer.msg(s.errorMsg,{type:"error"})}))}}},{key:"layerClose",value:function(){this.$layer.close(this.layerIndex);var e=this.$parent;e.component.changePhone=!1}},{key:"skip",value:function(){}}]),s}(p["d"]);Object(u["a"])([Object(p["c"])({default:function(){return!1}})],w.prototype,"show",void 0),Object(u["a"])([Object(p["c"])({default:function(){return""}})],w.prototype,"user",void 0),Object(u["a"])([Object(p["e"])("show",{immediate:!0})],w.prototype,"getShow",null),w=Object(u["a"])([p["a"]],w);var g=w,C=g,k=C,_=s("2877"),x=Object(_["a"])(k,m,b,!1,null,"d11b1c8e",null),O=x.exports,$=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"popup-container layer-display",attrs:{id:"user-email-activation"}},[s("div",{staticClass:"popup-item"},[s("div",{staticClass:"popup-item-label"},[e._v("邮箱：")]),s("div",{staticClass:"popup-item-content box"},[s("efly-input",{attrs:{size:"small",disabled:"",width:"100%",placeholder:"请输入账号"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1)]),s("div",{staticClass:"popup-item"},[s("div",{staticClass:"popup-item-label"},[e._v("邮箱验证码：")]),s("div",{staticClass:"popup-item-content box"},[s("efly-tooltip",{staticClass:"box flex-column",staticStyle:{width:"200px"},attrs:{content:e.errorMsg.code,trigger:e.errorMsg.code?"show":"hide",position:"relative",top:"2px",left:"-6px",type:"danger",placement:"bottom-left"}},[s("efly-input",{attrs:{size:"small",width:"200px",placeholder:"请输入邮箱验证码"},on:{blur:function(t){return e.checkCode()}},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}})],1),e.status.countDown?e._e():s("efly-button",{staticClass:"btn-primary flex mar-l-mini",attrs:{size:"small"},on:{click:function(t){return e.openCode()}}},[e._v("发送邮件验证码 ")]),e.status.countDown?s("efly-button",{staticClass:"btn-primary disabled flex mar-l-mini",attrs:{size:"small"}},[e._v(" "+e._s(e.countNum)+"s后可重发 ")]):e._e()],1)])]),s("sliding-verification-code",{attrs:{show:e.component.code,email:e.email,type:"activateEmail"},on:{success:function(t){return e.getCodeSuccess()},close:function(t){return e.showComponent()}}})],1)},P=[],j=function(e){Object(c["a"])(s,e);var t=Object(l["a"])(s);function s(){var e;return Object(i["a"])(this,s),e=t.apply(this,arguments),e.email="",e.code="",e.countNum="",e.component={code:!1},e.errorMsg={code:""},e.status={countDown:!1},e}return Object(o["a"])(s,[{key:"mounted",value:function(){}},{key:"init",value:function(){this.email=this.user.email,this.errorMsg.code=""}},{key:"watchUser",value:function(e){}},{key:"getShow",value:function(e){var t=this;this.show=e,!0===e&&(this.init(),this.layerIndex=this.$layer.open({title:"邮箱验证",id:"user-email-activation",icon:"icon-create",area:{width:"550px"},btn:{confirm:"确定",cancel:"取消"},confirm:function(){t.submit()},cancel:function(){t.layerClose()}}))}},{key:"layerClose",value:function(){this.$layer.close(this.layerIndex);var e=this.$parent;e.component.emailActivation=!1}},{key:"openCode",value:function(){this.layerClose(),this.component.code=!0}},{key:"getCodeSuccess",value:function(){var e=this.$parent;e.component.emailActivation=!0,this.countDown()}},{key:"showComponent",value:function(){var e=this.$parent;e.component.emailActivation=!0}},{key:"countDown",value:function(){var e=this;this.status.countDown=!0,this.countNum=60;var t=setInterval((function(){e.countNum--,0===e.countNum&&(e.status.countDown=!1,clearInterval(t))}),1e3)}},{key:"checkCode",value:function(){return""===this.code?(this.errorMsg.code="请输入验证码。",!1):(this.errorMsg.code="",!0)}},{key:"submit",value:function(){var e=this;if(this.checkCode()){var t=this.$layer.load({message:"激活邮箱中..."}),s={userID:this.user.userID,email:this.email,code:this.code};d["a"].request("/user/updateUserActivateEmail",s).then((function(s){e.$layer.close(t),e.layerClose(),e.$layer.msg("激活成功",{type:"success"}),e.$emit("success")})).catch((function(s){e.$layer.close(t),e.$layer.msg(s.errorMsg,{type:"error"})}))}}}]),s}(p["d"]);Object(u["a"])([Object(p["c"])({default:function(){return!1}})],j.prototype,"show",void 0),Object(u["a"])([Object(p["c"])({default:function(){return!1}})],j.prototype,"user",void 0),Object(u["a"])([Object(p["e"])("user",{immediate:!0})],j.prototype,"watchUser",null),Object(u["a"])([Object(p["e"])("show",{immediate:!0})],j.prototype,"getShow",null),j=Object(u["a"])([p["a"]],j);var E=j,S=E,M=S,A=(s("adab"),Object(_["a"])(M,$,P,!1,null,"edbdc8ae",null)),I=A.exports,z=function(e){Object(c["a"])(s,e);var t=Object(l["a"])(s);function s(){var e;return Object(i["a"])(this,s),e=t.apply(this,arguments),e.userID="",e.user={},e.color="#e6a23c",e.percentage=0,e.level="低级",e.status={data:"loading"},e.easyOperate={data:[],icon:"",title:"",scene:"confirm"},e.component={easyOperate:!1,resetPassword:!1,changePhone:!1,emailActivation:!1},e}return Object(o["a"])(s,[{key:"created",value:function(){this.userID=f["a"].getUserID(),this.getUser()}},{key:"getUser",value:function(){var e=this;this.status.data="loading";var t={userID:this.userID};d["a"].request("/user/query",t).then((function(t){e.user=t.data.list[0],e.status.data=0===t.data.count?"nodata":"havedata",1===e.user.activateEmail?(e.color="#67c23a",e.percentage=100,e.level="高级"):(e.color="#FE9901",e.percentage=66,e.level="中级")})).catch((function(t){e.status.data="error"}))}},{key:"operateSelect",value:function(e){switch(e){case"activationEmail":this.easyOperateOpen(e);break;case"emailActivation":case"changePhone":case"resetPassword":this.component[e]=!0;break}}},{key:"easyOperateOpen",value:function(e){switch(this.easyOperate.id=e,e){case"activationEmail":this.easyOperate.title="激活邮箱",this.easyOperate.icon="icon-email",this.easyOperate.data=[{type:"info",label:"激活邮箱",value:this.user.email}],this.easyOperate.scene="info";break}this.component.easyOperate=!0}},{key:"easyOperateConfirm",value:function(e){switch(e){case"activationEmail":this.activationEmail();break}}},{key:"activationEmail",value:function(){var e=this,t=this.$layer.load({message:"激活邮箱中..."}),s={userID:this.user.userID};d["a"].request("/user/updateUserActivateEmail",s).then((function(s){e.$layer.close(t),e.$layer.msg("激活成功",{type:"success"}),e.getUser()})).catch((function(s){e.$layer.close(t),e.$layer.msg(s.errorMsg,{type:"error"})}))}}]),s}(p["d"]);z=Object(u["a"])([Object(p["a"])({components:{UserResetPassword:v["a"],UserChangePhone:O,UserEmailActivation:I},filters:Object(n["a"])({},h["a"])})],z);var D=z,N=D,U=N,Z=(s("fe21"),Object(_["a"])(U,a,r,!1,null,"d9c1d2dc",null));t["default"]=Z.exports},eee3:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"popup-container layer-display",attrs:{id:"user-reset-password"}},[s("div",{staticClass:"popup-item"},[s("div",{staticClass:"popup-item-label"},[e._v("密码：")]),s("efly-tooltip",{staticClass:"box flex-column",staticStyle:{width:"100%"},attrs:{content:e.errorMsg.password,trigger:e.errorMsg.password?"show":"hide",position:"relative",top:"2px",left:"-6px",type:"danger",placement:"bottom-left"}},[s("div",{staticClass:"popup-item-content box"},[s("efly-input",{attrs:{size:"small",type:"password",width:"100%",placeholder:"8-32位，且须包含数字、字母"},on:{change:function(t){return e.checkPassword()}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),s("span",{staticClass:"box flex-center color-danger font-default pad-lr-xs"},[e._v("*")])],1)])],1),s("div",{staticClass:"popup-item"},[s("div",{staticClass:"popup-item-label"},[e._v("确认密码：")]),s("efly-tooltip",{staticClass:"box flex-column",staticStyle:{width:"100%"},attrs:{content:e.errorMsg.confirmPassword,trigger:e.errorMsg.confirmPassword?"show":"hide",position:"relative",top:"2px",left:"-6px",type:"danger",placement:"bottom-left"}},[s("div",{staticClass:"popup-item-content box"},[s("efly-input",{attrs:{size:"small",type:"password",width:"100%",placeholder:"请输入确认密码"},on:{change:function(t){return e.checkConfirmPassword()}},model:{value:e.confirmPassword,callback:function(t){e.confirmPassword=t},expression:"confirmPassword"}}),s("span",{staticClass:"box flex-center color-danger font-default pad-lr-xs"},[e._v("*")])],1)])],1)])},r=[],n=s("d4ec"),i=s("bee2"),o=s("262e"),c=s("2caf"),l=s("9ab4"),u=s("1b40"),p=s("84dc"),d=s("65a1"),h=function(e){Object(o["a"])(s,e);var t=Object(c["a"])(s);function s(){var e;return Object(n["a"])(this,s),e=t.apply(this,arguments),e.password="",e.confirmPassword="",e.errorMsg={password:"",confirmPassword:""},e.status={},e}return Object(i["a"])(s,[{key:"mounted",value:function(){}},{key:"init",value:function(){this.password="",this.confirmPassword=""}},{key:"getShow",value:function(e){var t=this;this.show=e,!0===e&&(this.init(),this.layerIndex=this.$layer.open({title:"修改密码",id:"user-reset-password",icon:"icon-change-password",area:{width:"550px"},btn:{confirm:"确定",cancel:"取消"},confirm:function(){t.submit()},cancel:function(){var e=t.$parent;e.component.resetPassword=!1}}))}},{key:"selectOption",value:function(e,t){this[t]=e}},{key:"checkPassword",value:function(){return""===this.password?(this.errorMsg.password="请输入密码。",!1):p["a"].password(this.password)?(this.errorMsg.password="",!0):(this.errorMsg.password="密码由8-32位，且须包含数字、字母。",!1)}},{key:"checkConfirmPassword",value:function(){return""===this.confirmPassword?(this.errorMsg.confirmPassword="请输入确认密码。",!1):this.confirmPassword!==this.password?(this.errorMsg.confirmPassword="密码不一致。",!1):(this.errorMsg.password="",!0)}},{key:"checkBtnStatus",value:function(){var e=this.checkPassword();return e=e&&this.checkConfirmPassword(),e}},{key:"submit",value:function(){var e=this;if(this.checkBtnStatus()){var t=this.$layer.load({message:"修改密码中..."}),s={password:this.password,userID:this.user.userID};d["a"].request("/user/resetPassword",s).then((function(s){e.$layer.close(t),e.layerClose(),e.$layer.msg("修改成功",{type:"success"}),e.$emit("success")})).catch((function(s){e.$layer.close(t),e.$layer.msg(s.errorMsg,{type:"error"})}))}}},{key:"layerClose",value:function(){this.$layer.close(this.layerIndex);var e=this.$parent;e.component.resetPassword=!1}},{key:"skip",value:function(){}}]),s}(u["d"]);Object(l["a"])([Object(u["c"])({default:function(){return!1}})],h.prototype,"show",void 0),Object(l["a"])([Object(u["c"])({default:function(){return""}})],h.prototype,"user",void 0),Object(l["a"])([Object(u["e"])("show",{immediate:!0})],h.prototype,"getShow",null),h=Object(l["a"])([u["a"]],h);var f=h,v=f,m=v,b=s("2877"),y=Object(b["a"])(m,a,r,!1,null,"8d57bdbc",null);t["a"]=y.exports},fe21:function(e,t,s){"use strict";s("66da")}}]);