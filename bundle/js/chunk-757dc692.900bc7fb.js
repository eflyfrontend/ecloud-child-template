(window["webpackJsonp_user"]=window["webpackJsonp_user"]||[]).push([["chunk-757dc692"],{"00b4":function(t,e,a){"use strict";a("ac1f");var s=a("23e7"),r=a("da84"),i=a("c65b"),n=a("e330"),o=a("1626"),c=a("861d"),l=function(){var t=!1,e=/[ac]/;return e.exec=function(){return t=!0,/./.exec.apply(this,arguments)},!0===e.test("abc")&&t}(),u=r.Error,d=n(/./.test);s({target:"RegExp",proto:!0,forced:!l},{test:function(t){var e=this.exec;if(!o(e))return d(this,t);var a=i(e,this,t);if(null!==a&&!c(a))throw new u("RegExp exec method returned something other than an Object or null");return!!a}})},"06c5":function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));a("fb6a"),a("d3b7"),a("b0c0"),a("a630"),a("3ca3"),a("ac1f"),a("00b4");var s=a("6b75");function r(t,e){if(t){if("string"===typeof t)return Object(s["a"])(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Object(s["a"])(t,e):void 0}}},"1d63":function(t,e,a){},2909:function(t,e,a){"use strict";a.d(e,"a",(function(){return c}));var s=a("6b75");function r(t){if(Array.isArray(t))return Object(s["a"])(t)}a("a4d3"),a("e01a"),a("d3b7"),a("d28b"),a("3ca3"),a("ddb0"),a("a630");function i(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}var n=a("06c5");a("d9e2");function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t){return r(t)||i(t)||Object(n["a"])(t)||o()}},"30a2":function(t,e,a){"use strict";a("b1f0"),a("fb24");function s(t){switch(t){case"customer":return"客户";case"admin":return"管理员"}}function r(t){var e=t;if(t)switch(t.toString()){case"1":e="云主机";break;case"2":e="云磁盘";break;case"3":e="云IP";break;case"4":e="云快照";break;case"5":e="账号管理";break;case"6":e="财务管理";break;case"7":e="NAT网关";break;case"8":e="VPC路由";break;case"9":e="VPC虚拟私有云";break;case"10":e="虚拟交换机";break;case"11":e="独立带宽包";break;case"12":e="共享带宽包";break;case"13":e="VPC带宽";break;case"14":e="镜像";break;case"15":e="安全组";break;case"16":e="负载均衡";break;case"17":e="RDS云数据库";break;case"18":e="弹性网卡";break;case"19":e="平台管理";break;case"20":e="客户管理";break;case"21":e="市场活动";break;case"22":e="合同业务";break;case"":e="全部";break}return e}function i(t){var e={destroy:"销毁提醒",expire:"到期提醒",opt:"操作提醒",balanceLess:"财务消息",security:"安全消息"};return e[t]}function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"label",a={MESSAGE_CONFIG_DESTROY:{label:"销毁提醒",id:"destroy"},MESSAGE_CONFIG_EXPIRE:{label:"到期提醒",id:"expire"},MESSAGE_CONFIG_BALANCE_LESS:{label:"余额不足",id:"balanceLess"},MESSAGE_CONFIG_MONEY:{label:"余额预警",id:"money"},MESSAGE_CONFIG_RDS_STORAGE:{label:"RDS存储容量提醒",id:"rdsStorage"}};return a[t][e]}function o(t,e){var a;switch(e){case"set":a=t?t.length>12?t.substr(0,5)+"***"+t.substr(t.length-6,6):t.length>5?t.substr(0,2)+"***"+t.substr(t.length-3,3):t.length>3?t.substr(0,1)+"***"+t.substr(t.length-1,1):t.substr(0,1)+"***":"-";break;case"name":a=t?t.length>2?t.substr(0,1)+"*"+t.substr(t.length-1,1):t.substr(0,1)+"*":"-";break;default:a="admin"===t?t:t?t.length>5?t.substr(0,2)+"***"+t.substr(t.length-3,3):t.length>3?t.substr(0,1)+"***"+t.substr(t.length-1,1):t.substr(0,1)+"***":"-";break}return a}e["a"]={userType:s,optLogType:r,messageType:i,messageSetType:n,desensitization:o}},"4df4":function(t,e,a){"use strict";var s=a("da84"),r=a("0366"),i=a("c65b"),n=a("7b0b"),o=a("9bdd"),c=a("e95a"),l=a("68ee"),u=a("07fa"),d=a("8418"),p=a("9a1f"),f=a("35a1"),h=s.Array;t.exports=function(t){var e=n(t),a=l(this),s=arguments.length,b=s>1?arguments[1]:void 0,y=void 0!==b;y&&(b=r(b,s>2?arguments[2]:void 0));var m,g,v,C,_,k,S=f(e),x=0;if(!S||this==h&&c(S))for(m=u(e),g=a?new this(m):h(m);m>x;x++)k=y?b(e[x],x):e[x],d(g,x,k);else for(C=p(e,S),_=C.next,g=a?new this:[];!(v=i(_,C)).done;x++)k=y?o(C,b,[v.value,x],!0):v.value,d(g,x,k);return g.length=x,g}},"55e9":function(t,e,a){"use strict";a("1d63")},"6b75":function(t,e,a){"use strict";function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,s=new Array(e);a<e;a++)s[a]=t[a];return s}a.d(e,"a",(function(){return s}))},"9bdd":function(t,e,a){var s=a("825a"),r=a("2a62");t.exports=function(t,e,a,i){try{return i?e(s(a)[0],a[1]):e(a)}catch(n){r(t,"throw",n)}}},a630:function(t,e,a){var s=a("23e7"),r=a("4df4"),i=a("1c7e"),n=!i((function(t){Array.from(t)}));s({target:"Array",stat:!0,forced:n},{from:r})},b0c0:function(t,e,a){var s=a("83ab"),r=a("5e77").EXISTS,i=a("e330"),n=a("9bf2").f,o=Function.prototype,c=i(o.toString),l=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,u=i(l.exec),d="name";s&&!r&&n(o,d,{configurable:!0,get:function(){try{return u(l,c(this))[1]}catch(t){return""}}})},e89f:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("page-header",{attrs:{title:"操作日志",titleIcon:"icon-oneself-basic-info"}}),a("div",{staticClass:"list-content"},[a("div",{staticClass:"list-box"},["eap"!==t.$platform||t.isSecurityGroup?t._e():a("div",{staticClass:"mar-b-mini box flex-justify-between"},[a("div",{staticClass:"list-search-left"}),a("div",{staticClass:"list-search-right"},[a("div",{staticClass:"box"},[t._m(0),a("select-user",{attrs:{value:t.email},on:{userChange:function(e){return t.userChange(e)}}})],1)])]),a("div",{staticClass:"list-serach mar-b-xs"},[a("div",{staticClass:"list-serach-left "},[a("efly-tooltip",{attrs:{content:"刷新",top:"-42px",left:"-6px",placement:"top",type:"white"}},[a("efly-button",{staticClass:"efly-button-icon btn-outline-primary",attrs:{size:"small"},on:{click:function(e){return t.getList()}}},[a("i",{staticClass:"icon icon-refresh font-default"})])],1)],1),t.isSecurityGroup?t._e():a("div",{staticClass:"list-serach-right box flex-wrap"},[a("efly-screen",{staticClass:"mar-r-xs"},[a("div",{attrs:{slot:"label"},slot:"label"},[a("efly-select",{attrs:{size:"small",width:"100px",type:"screen",value:"操作类型"}})],1),t._t("default",(function(){return[a("efly-select",{attrs:{size:"small",width:"140px",data:t.operationList,type:"screen",value:t.operationList[0]},on:{change:function(e){return t.labelChange("operationList",e)}}})]}))],2),a("select-time",{staticClass:"mar-r-xs",attrs:{label:"操作时间",startTimeID:"destory-time-start-true",endTimeID:"destory-time-end-true",startTime:t.startTime,endTime:t.endTime},on:{change:function(e){return t.selectTimeChange(e)}}}),a("efly-screen",{staticClass:"mar-r-xs"},[a("div",{attrs:{slot:"label"},slot:"label"},[a("efly-select",{attrs:{size:"small",width:"100px",type:"screen",value:"关键字"}})],1),t._t("default",(function(){return[a("efly-input",{attrs:{size:"small",placeholder:"请输入关键字",width:"130px"},model:{value:t.status.optMsg,callback:function(e){t.$set(t.status,"optMsg",e)},expression:"status.optMsg"}})]}))],2),a("efly-button",{staticClass:"btn-primary mar-l-xs nowrap",attrs:{size:"small"},on:{click:function(e){return t.getList()}}},[t._v("搜索")]),a("efly-button",{staticClass:"btn-solid-primary mar-l-xs nowrap",attrs:{size:"small"},on:{click:function(e){return t.clearScreen()}}},[t._v("清除 ")])],1),t.isSecurityGroup?a("div",{staticClass:"list-serach-right "},[t._m(1),a("efly-button",{staticClass:"btn-primary mar-l-xs nowrap",attrs:{size:"small"},on:{click:function(e){return t.getList()}}},[t._v("搜索")]),a("efly-button",{staticClass:"btn-solid-primary mar-l-xs nowrap",attrs:{size:"small"},on:{click:function(e){return t.clearScreen()}}},[t._v("清除 ")])],1):t._e()]),a("efly-tip",{staticClass:"mar-b-default mar-t-xs nowrap font-small",staticStyle:{width:"340px",padding:"6px 10px"},attrs:{icon:"icon-cycel-exclamation"}},[t._v("日志信息显示存在15s同步延时，如有需要请手动刷新。 ")]),a("div",{staticClass:"list-data"},[a("efly-table",{attrs:{data:t.optLogList,status:t.status.data,loadingImg:t.$loadingImg,nodataIcon:"icon-nodata"}},[a("efly-table-column",{attrs:{prop:"createTime",header:"操作时间",width:"100"}}),a("efly-table-column",{attrs:{header:"操作信息",width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{staticClass:"optMessage"},[a("div",{domProps:{innerHTML:t._s(e.data.optMsg)}})])}}])}),a("efly-table-column",{attrs:{prop:"zone",header:"操作类型",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{},[t._v(" "+t._s(t._f("optLogType")(e.data.optType))+" ")])}}])}),a("efly-table-column",{attrs:{prop:"zone",header:"操作状态",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{},[0!==e.data.optType?a("i",{staticClass:"icon icon-circle-success color-success mar-r-xs"}):t._e(),t._v(t._s(0!==e.data.optType?"成功":"-")+" ")])}}])}),"eap"!==t.$platform||t.isSecurityGroup?t._e():a("efly-table-column",{attrs:{prop:"zone",header:"操作来源",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{},[t._v(" "+t._s("admin"===e.data.userType?"管理员":"客户")+" ")])}}],null,!1,140747123)}),a("efly-table-column",{attrs:{header:"操作账户",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{},[t._v(" "+t._s("system"===e.data.optUserID?"系统":e.data.email)+" ")])}}])}),"eap"!==t.$platform||t.isSecurityGroup?t._e():a("efly-table-column",{attrs:{header:"目标账户",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{},[t._v(" "+t._s(e.data.optAdminEmail===e.data.userID?"-":e.data.email)+" ")])}}],null,!1,2559404426)})],1)],1),a("div",{staticClass:"list-footer"},[a("div",{staticClass:"list-footer-left"}),a("div",{staticClass:"list-footer-right"},[a("efly-page",{attrs:{size:"small",list:[5,10,20,50],total:t.page.total,count:t.page.length},on:{change:function(e){return t.changePage(e)}}})],1)])],1)])],1)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"line-height-34 mar-r-default text-color-secondary"},[a("i",{staticClass:"icon icon-log"}),t._v(" 客户账号")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"destory-time-controller",staticStyle:{display:"flex","margin-right":"10px"}},[a("div",{staticClass:"destory-time-btn mar-l-xs",staticStyle:{border:"1px solid #cccccc"}},[t._v("操作时间")]),a("div",{staticClass:"efly-input efly-input-small box flex-align-center",staticStyle:{width:"300px"}},[a("input",{staticClass:"efly-input flex",staticStyle:{border:"1px solid #cccccc"},attrs:{readonly:"",id:"destory-time-start-true",placeholder:"请选择开始时间"}}),a("span",{staticClass:"mar-lr-xs"},[t._v("-")]),a("input",{staticClass:"efly-input flex",staticStyle:{border:"1px solid #cccccc"},attrs:{readonly:"",id:"destory-time-end-true",placeholder:"请选择结束时间"}})])])}],i=a("5530"),n=a("2909"),o=a("d4ec"),c=a("bee2"),l=a("262e"),u=a("2caf"),d=a("9ab4"),p=a("1b40"),f=a("65a1"),h=a("30a2"),b=a("bd30"),y=function(t){Object(l["a"])(a,t);var e=Object(u["a"])(a);function a(){var t;return Object(o["a"])(this,a),t=e.apply(this,arguments),t.tabs="optLog",t.optLogList=[],t.$platform="",t.page={total:0,start:0,length:10},t.status={data:"loading",optType:"",optMsg:"",userID:"",optUserID:""},t.destorylogList=[],t.operationList=["全部","云主机","云磁盘","云IP","云快照","账号管理","财务管理","NAT网关","VPC路由","VPC虚拟私有云","虚拟交换机","独立带宽包","共享带宽包","VPC带宽","镜像","安全组","负载均衡","平台管理","客户管理"],t.batchOptData={},t.email="",t.startTime="",t.endTime="",t.userID="",t}return Object(c["a"])(a,[{key:"created",value:function(){this.status.userID=b["a"].getUserID(this.$platform),this.$route.params.query&&(this.email=this.$route.params.query)}},{key:"mounted",value:function(){this.getList()}},{key:"labelChange",value:function(t,e){switch(t){case"operationList":this.status.optType=0===+e.selectID?"":e.selectID,this.getList();break}}},{key:"selectTimeChange",value:function(t){this.startTime=t.startTime,this.endTime=t.endTime}},{key:"getList",value:function(){var t=this;this.status.data="loading";var e={createTimeStart:this.startTime,createTimeEnd:this.endTime,order:"desc",orderFields:"createTime",limitStart:this.page.start,limitCount:this.page.length,uuid:this.isSecurityGroup?this.securityGroupUUID:"",optType:this.isSecurityGroup?"15":this.status.optType,optMsg:this.status.optMsg,userID:this.status.userID,optUserID:this.status.optUserID,accountName:this.email};f["a"].request("/user/log/query",e,"token").then((function(e){t.page.total=e.data.count,t.optLogList=e.data.list,t.status.data=t.optLogList.length>0?"havedata":"nodata"})).catch((function(e){t.status.data="nodata"}))}},{key:"changePage",value:function(t){this.page.length=t.length,this.page.start=t.start,this.getList()}},{key:"userChange",value:function(t){this.email=t.email}},{key:"optUserChange",value:function(t){this.status.optUserID=t.userID}},{key:"clearScreen",value:function(){this.startTime="",this.endTime="",this.status.optType="",this.status.optMsg="",this.status.optUserID="",this.email="",this.operationList=Object(n["a"])(this.operationList),this.getList()}},{key:"operateSelect",value:function(t,e){switch(t){case"detail":this.$router.push({path:"/route/detail/detail.vue",query:{optLogUUID:e}});break;case"vpcDetail":this.$router.push({path:"../vpc/detail/detail.vue",query:{id:e}});break}}}]),a}(p["d"]);Object(d["a"])([Object(p["c"])({default:function(){return!1}})],y.prototype,"isSecurityGroup",void 0),Object(d["a"])([Object(p["c"])()],y.prototype,"securityGroupUUID",void 0),y=Object(d["a"])([Object(p["a"])({filters:Object(i["a"])({},h["a"])})],y);var m=y,g=m,v=g,C=(a("55e9"),a("2877")),_=Object(C["a"])(v,s,r,!1,null,"45e069a4",null);e["default"]=_.exports},fb6a:function(t,e,a){"use strict";var s=a("23e7"),r=a("da84"),i=a("e8b5"),n=a("68ee"),o=a("861d"),c=a("23cb"),l=a("07fa"),u=a("fc6a"),d=a("8418"),p=a("b622"),f=a("1dde"),h=a("f36a"),b=f("slice"),y=p("species"),m=r.Array,g=Math.max;s({target:"Array",proto:!0,forced:!b},{slice:function(t,e){var a,s,r,p=u(this),f=l(p),b=c(t,f),v=c(void 0===e?f:e,f);if(i(p)&&(a=p.constructor,n(a)&&(a===m||i(a.prototype))?a=void 0:o(a)&&(a=a[y],null===a&&(a=void 0)),a===m||void 0===a))return h(p,b,v);for(s=new(void 0===a?m:a)(g(v-b,0)),r=0;b<v;b++,r++)b in p&&d(s,r,p[b]);return s.length=r,s}})}}]);